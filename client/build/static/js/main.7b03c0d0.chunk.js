(this["webpackJsonpazure-mern-client"]=this["webpackJsonpazure-mern-client"]||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(11),s=a.n(l),r=(a(56),a(65)),o=a(66),i=a(74),u=a(73),d=a(49),j=a(70),h=a.n(j),b=a(174),p=a(162),v=a(177),f=a(180),O=a(175),g=a(176),m=a(178),x=a(179),S=a(165),y=a(187),w=a(184),M=a(183),_=a(173),D=a(168),J=a(169),k=a(167),C=(a(116),a(185)),A=a(186),N=a(172),z=a(181),E=a(6),F=Object(p.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},table:{minWidth:650}}})),R=2021,P=null;function W(e){var t=e.obj,a=c.a.useState(!1),n=Object(d.a)(a,2),l=n[0],s=n[1],r=c.a.useRef(""),o=c.a.useRef(""),i=c.a.useRef(new Date),u="",j=c.a.useRef("2022-01-01"),h=t,p=function(e,t,a){a=parseInt(a),i.current=new Date(e,t,a);var n=""+e,c=t<10?"0"+t:""+t,l=a<10?"0"+a:""+a;j.current=n+"-"+c+"-"+l,console.log("DAtum geparsed: "+n+"-"+c+"-"+l),s(!0)};p;var v=function(e){return s(!1),console.log("dialog hat jetzt: "+u),new Promise((function(e,t){var a={desc:r.current.value,desc_long:o.current.value,date:i.current.value,type:u};h(a),fetch("".concat("/api/data","/hero"),{method:"PUT",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){t(e)}))}))};return P=p,Object(E.jsx)("div",{children:Object(E.jsxs)(M.a,{open:l,onClose:function(e){v()},"aria-labelledby":"form-dialog-title",children:[Object(E.jsx)(k.a,{id:"form-dialog-title",children:"Subscribe"}),Object(E.jsxs)(D.a,{children:[Object(E.jsx)(J.a,{children:"Eintrag bearbeiten."}),Object(E.jsx)(w.a,{id:"date",label:"Datum",type:"date",defaultValue:j.current,inputRef:i,InputLabelProps:{shrink:!0}}),Object(E.jsx)(w.a,{autoFocus:!0,margin:"dense",id:"desc",label:"Beschreibung",inputRef:r,type:"text",fullWidth:!0}),Object(E.jsx)(I,{callback:function(e){u=e}})]}),Object(E.jsxs)(_.a,{children:[Object(E.jsx)(b.a,{onClick:function(){s(!1)},color:"primary",children:"Cancel"}),Object(E.jsx)(b.a,{onClick:function(e){v()},color:"primary",children:"Eintragen"})]})]})})}function I(e){var t=e.callback,a=F(),n=c.a.useState(""),l=Object(d.a)(n,2),s=l[0],r=l[1];return Object(E.jsxs)(N.a,{variant:"filled",className:a.formControl,inputRef:s,children:[Object(E.jsx)(C.a,{id:"demo-simple-select-filled-label",children:"Typ"}),Object(E.jsxs)(z.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:s,onChange:function(e){r(e.target.value),console.log("setze jetzt auf:"+e.target.value),t(e.target.value)},children:[Object(E.jsx)(A.a,{value:"",children:Object(E.jsx)("em",{children:"None"})}),Object(E.jsx)(A.a,{value:"Marketing",children:"Marketing"}),Object(E.jsx)(A.a,{value:"SCM",children:"SCM"}),Object(E.jsx)(A.a,{value:"Other",children:"Other"})]})]})}function T(e,t,a,n){var c=[];if(null!=n)for(var l=0;l<n.length;l++)c.push(Object(E.jsx)(y.a,{p:0,color:"primary",size:"small",label:n[l]}));return[Object(E.jsx)(O.a,{style:B(e),p:0,align:"left",onClick:function(){P(a,t,e)},children:e}),Object(E.jsx)(O.a,{style:B(e),p:0,align:"left",onClick:function(){P(a,t,e)},children:c})]}function B(e){return e.includes("Sa")||e.includes("So")?{backgroundColor:"lightgrey"}:{}}function L(e){var t=e.value,a=F();return Object(E.jsx)(g.a,{component:S.a,children:Object(E.jsxs)(v.a,{className:a.table,size:"small","aria-label":"a dense table",children:[Object(E.jsx)(m.a,{children:Object(E.jsxs)(x.a,{p:0,children:[Object(E.jsx)(O.a,{p:0,colSpan:2,children:"Januar"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"Februar"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"M\xe4rz"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"April"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"Mai"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"Juni"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"Juli"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"August"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"September"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"Oktober"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"November"}),Object(E.jsx)(O.a,{p:0,colSpan:2,children:"Dezember"})]})}),Object(E.jsx)(f.a,{p:0,children:t.map((function(e){return Object(E.jsxs)(x.a,{p:0,children:[T(e.Jan,1,R,e.Jan_val),T(e.Feb,2,R,e.Feb_val),T(e.Mar,3,R,e.Mar_val),T(e.Apr,4,R,e.Apr_val),T(e.May,5,R,e.May_val),T(e.Jun,6,R,e.Jun_val),T(e.Jul,7,R,e.Jul_val),T(e.Aug,8,R,e.Aug_val),T(e.Sep,9,R,e.Sep_val),T(e.Oct,10,R,e.Oct_val),T(e.Nov,11,R,e.Nov_val),T(e.Dec,12,R,e.Dec_val)]},e.id)}))})]})})}var G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).addMilestones=function(e){n.setState({milestones:e}),n.state.milestones.forEach((function(e,t){var a=new Date(e.date);n.state.rows[a.getDate()][G[a.getMonth()]+"_val"].push(e.desc),console.log("gefunden, tag: "+a.getDate()+" Monat: "+a.getMonth()+" desc: "+e.desc)}))},n.addMilestone=function(e){n.state.milestones.push(e),n.setState({milestones:n.state.milestones});var t=new Date(e.date);n.state.rows[t.getDate()][G[t.getMonth()]+"_val"].push(e.desc),console.log("hinzugef\xfcgt, tag: "+t.getDate()+" Monat: "+t.getMonth()+" desc: "+e.desc)};new Date(2021,0,1),new Date(2021,11,31);for(var c=[],l=1;l<=31;l++){var s=[];s.push(l);for(var o=0;o<12;o++){var i="";if(l<=new Date(2021,o+1,0).getDate()){var u=new Date(2021,o,l);i=u.toLocaleDateString("de-DE",{day:"numeric"})+" "+u.toLocaleDateString("de-DE",{weekday:"short"})}s.push(i)}c.push({id:s[0],Jan:s[1],Feb:s[2],Mar:s[3],Apr:s[4],May:s[5],Jun:s[6],Jul:s[7],Aug:s[8],Sep:s[9],Oct:s[10],Nov:s[11],Dec:s[12],Jan_val:[],Feb_val:[],Mar_val:[],Apr_val:[],May_val:[],Jun_val:[],Jul_val:[],Aug_val:[],Sep_val:[],Oct_val:[],Nov_val:[],Dec_val:[]})}return n.state={milestones:[],rows:c,currentEntry:{date:null,desc:"test test",desc_long:"long"}},n}return Object(o.a)(a,[{key:"btnPush",value:function(){JSON.parse(JSON.stringify(this.state.rows));this.state.rows[1].Jan="Got ya",this.setState({rows:this.state.rows})}},{key:"componentDidMount",value:function(){var e=this;console.log("componentDidMount success"),h.a.get("/api/data").then((function(t){console.log("data recieved: ",t.data),e.addMilestones(t.data),console.log("changed after load: "+e.state.rows),e.setState({rows:e.state.rows})})).catch(alert)}},{key:"render",value:function(){var e=this;return console.log("render milestones: ",this.state.milestones),Object(E.jsxs)("div",{children:[Object(E.jsx)(b.a,{onClick:function(){e.btnPush()},children:" push me "}),Object(E.jsx)(L,{value:this.state.rows}),Object(E.jsx)("ul",{children:Object.keys(this.state.milestones).map((function(t,a){return Object.keys(e.state.milestones[t]).map((function(a,n){return Object(E.jsxs)("li",{children:[a," - ",e.state.milestones[t][a]," "]})}))}))}),Object(E.jsx)(W,{obj:function(t){e.addMilestone(t)}})]})}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(E.jsx)(U,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.7b03c0d0.chunk.js.map